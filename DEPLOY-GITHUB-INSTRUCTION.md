# Инструкция по интеграции с GitHub и деплою на Vercel

## 1. Настройка GitHub

### Создание и управление Pull Request
1. Перейдите по ссылке: https://github.com/Neuropolis-ai/site/pull/new/deploy-services-pages
2. Заполните название и описание Pull Request
3. Укажите ревьюеров, если необходимо
4. Нажмите "Create Pull Request"

### Проверка Pull Request
1. Перейдите на вкладку "Files changed" для просмотра изменений
2. Убедитесь, что все изменения соответствуют ожидаемым
3. Проверьте автоматические проверки (если настроены)

### Слияние Pull Request
1. После проверки и одобрения нажмите "Merge pull request"
2. Выберите метод слияния (обычно "Merge pull request")
3. Подтвердите слияние
4. Удалите ветку после слияния, если она больше не нужна

## 2. Настройка Vercel для автоматического деплоя

### Подключение GitHub к Vercel
1. Войдите в аккаунт Vercel (https://vercel.com/)
2. Нажмите "Add New..." -> "Project"
3. Выберите репозиторий GitHub
4. Настройте параметры проекта:
   - Framework Preset: Next.js
   - Root Directory: ./ (или укажите другой, если ваш проект в поддиректории)
   - Build Command: `npm run build` (стандартная команда сборки)
   - Output Directory: оставьте по умолчанию (.next)

### Настройка переменных окружения
1. В настройках проекта перейдите в раздел "Environment Variables"
2. Добавьте все необходимые переменные окружения:
   ```
   NEXT_PUBLIC_SUPABASE_URL=https://your-supabase-project.supabase.co
   NEXT_PUBLIC_SUPABASE_ANON_KEY=your-supabase-anon-key
   TELEGRAM_BOT_TOKEN=your-telegram-bot-token
   TELEGRAM_CHAT_ID=your-telegram-chat-id
   ```
3. Укажите для каких окружений применять переменные (Production, Preview, Development)

### Настройка автоматического деплоя при пуше в основную ветку
1. В настройках проекта перейдите в раздел "Git"
2. Настройте "Production Branch" на "main"
3. Убедитесь, что опция "Auto Deploy" включена

## 3. Первый деплой и проверка

### Запуск первого деплоя
1. Нажмите "Deploy" в дашборде проекта Vercel
2. Выберите ветку "main"
3. Нажмите "Deploy"
4. Следите за процессом сборки в логах

### Проверка работоспособности
1. После завершения деплоя перейдите на сгенерированный Vercel URL
2. Проверьте работу основных функций сайта:
   - Главная страница
   - Страницы сервисов (/services/ai-agent, /services/chat-bots, /services/workflow-automation)
   - Формы обратной связи
   - Адаптивный дизайн (мобильная версия)

### Настройка кастомного домена
1. В настройках проекта перейдите в раздел "Domains"
2. Добавьте ваш домен (например, neuropolis.ai)
3. Следуйте инструкциям по настройке DNS-записей
4. Дождитесь подтверждения подключения домена

## 4. Оптимизация и мониторинг

### Настройка аналитики
1. В дашборде проекта перейдите в раздел "Analytics"
2. Настройте сбор метрик производительности
3. Интегрируйте внешние системы аналитики, если необходимо

### Мониторинг ошибок
1. В дашборде проекта перейдите в раздел "Monitoring"
2. Настройте уведомления о ошибках
3. Регулярно проверяйте логи и отчеты производительности

### Оптимизация производительности
1. Используйте инструменты Vercel для анализа производительности
2. Обратите внимание на метрики Core Web Vitals
3. Оптимизируйте изображения и JavaScript-бандлы

## 5. Решение проблем деплоя

### Ошибки сборки
1. Проверьте логи сборки для выявления ошибок
2. Убедитесь, что все зависимости указаны в package.json
3. Проверьте совместимость всех пакетов

### Ошибки выполнения
1. Проверьте консоль браузера на наличие ошибок JavaScript
2. Проверьте Network-вкладку для выявления проблем с запросами
3. Убедитесь, что все переменные окружения правильно настроены

### Откат к предыдущей версии
1. В дашборде проекта перейдите в раздел "Deployments"
2. Найдите предыдущую стабильную версию
3. Нажмите на три точки и выберите "Promote to Production" 